/* Custom styles for the AI Agent Policy Upload Interface - GOV.UK style */

/* Grid system and containers */
.govuk-width-container {
    max-width: 960px;
    margin: 0 auto;
    padding: 0 15px;
}

@media (min-width: 1020px) {
    .govuk-width-container {
        padding: 0 30px;
    }
}

.govuk-grid-row {
    margin-right: -15px;
    margin-left: -15px;
    display: flex;
    flex-wrap: wrap;
}

.govuk-grid-row:after {
    content: "";
    display: table;
    clear: both;
}

.govuk-grid-column-full,
.govuk-grid-column-two-thirds,
.govuk-grid-column-one-third {
    box-sizing: border-box;
    padding: 0 15px;
    width: 100%;
}

@media (min-width: 40.0625em) {
    .govuk-grid-column-full {
        width: 100%;
    }

    .govuk-grid-column-two-thirds {
        width: 66.6667%;
    }

    .govuk-grid-column-one-third {
        width: 33.3333%;
    }
}

/* Main styles */
html {
    font-family: "GDS Transport", arial, sans-serif;
    font-size: 16px;
    line-height: 1.25;
}

body {
    margin: 0;
    font-family: "GDS Transport", arial, sans-serif;
    background-color: #ffffff !important;
    background-image: none !important;
    color: #0b0c0c;
    line-height: 1.5;
    display: flex;
    flex-direction: column;
    min-height: 100vh;
}

main {
    flex: 1 0 auto;
}

/* GOV.UK Header styling */
.service-header {
    background-color: #0b0c0c;
    border-bottom: 10px solid #1d70b8;
    min-height: 120px;
    height: 120px;
    display: flex;
    align-items: center;
}

.service-header .govuk-header__container {
    border-bottom: none;
    display: flex;
    align-items: center;
    justify-content: flex-start;
}

.service-header .govuk-header__logo {
    margin-right: 40px;
}

.service-header .govuk-header__logotype {
    display: flex;
    align-items: center;
    gap: 6px;
}

.service-header .govuk-header__logotype-crown {
    height: 32px !important;
    width: 38px !important;
    margin-right: 4px;
}

.service-header .govuk-header__logotype-text {
    font-size: 32px;
    font-weight: 700;
    letter-spacing: 0.5px;
    vertical-align: middle;
    color: #fff;
}

.service-header .govuk-header__service-name {
    font-size: 2rem;
    font-weight: 700;
    margin-left: 24px;
    color: #fff;
    text-decoration: none;
    line-height: 1.1;
}

/* Phase banner */
.govuk-phase-banner {
    padding: 10px 0;
    border-bottom: 1px solid #b1b4b6;
}

.govuk-phase-banner__content {
    display: flex;
    align-items: center;
    margin: 0;
}

.govuk-tag {
    background-color: #1d70b8;
    color: white;
    font-weight: 700;
    font-size: 14px;
    padding: 5px 8px;
    letter-spacing: 1px;
    text-transform: uppercase;
    border-radius: 3px;
}

.govuk-phase-banner__content__tag {
    margin-right: 10px;
}

/* Main content styling */
.govuk-main-wrapper {
    padding-top: 20px;
    padding-bottom: 30px;
    overflow-x: hidden;
}

/* Card styling similar to MERN app */
.govuk-card {
    background-color: #ffffff;
    border: 1px solid #b1b4b6;
    padding: 15px;
    margin-bottom: 15px;
    border-radius: 4px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
    max-height: 400px;
    overflow: hidden;
    display: flex;
    flex-direction: column;
}

.govuk-card__heading {
    margin-top: 0;
    margin-bottom: 10px;
    font-size: 16px;
    font-weight: 700;
    color: #0b0c0c;
}

/* Progress bar styling */
.progress-bar {
    width: 100%;
    background: #f3f2f1;
    border-radius: 3px;
    margin: 0.5em 0;
    height: 1.25em;
    overflow: hidden;
    border: 1px solid #b1b4b6;
}

.progress-bar-inner {
    height: 100%;
    background: #1d70b8;
    color: #fff;
    text-align: center;
    white-space: nowrap;
    transition: width 0.3s;
    font-size: 12px;
    line-height: 1.25em;
    font-weight: 500;
}

/* Chat interface styling */
.chat-container {
    background-color: #ffffff;
    border-radius: 5px;
    padding: 25px;
    margin-bottom: 30px;
}

#chat-box {
    white-space: pre-line;
    border: 1px solid #b1b4b6;
    padding: 10px;
    height: 250px;
    max-height: 250px;
    overflow-y: auto !important;
    background-color: #f8f8f8;
    color: #0b0c0c;
    margin-bottom: 10px;
    border-radius: 4px;
    font-size: 14px;
    line-height: 1.3;
    font-family: "GDS Transport", arial, sans-serif;
    flex: 1 1 auto;
}

/* Document list styling */
.rag-doc-list {
    list-style-type: none;
    padding-left: 0;
    margin-bottom: 15px;
    max-height: 200px !important;
    overflow-y: auto !important;
    border: 1px solid #b1b4b6;
    border-radius: 4px;
    padding: 6px;
}

.rag-doc-list li {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 6px 8px;
    margin-bottom: 5px;
    background-color: #f8f8f8;
    border: 1px solid #b1b4b6;
    border-radius: 3px;
    font-size: 14px;
}

.doc-name {
    flex-grow: 1;
    font-weight: 400;
    font-size: 13px;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    max-width: 70%;
}

.doc-actions {
    display: flex;
    gap: 6px;
    flex-shrink: 0;
}

/* Upload form styling */
.upload-form-container {
    margin-bottom: 15px;
}

.upload-status-container {
    display: flex;
    align-items: center;
    margin-top: 10px;
    flex-wrap: wrap;
    gap: 8px;
}

/* Form elements */
.govuk-form-group {
    margin-bottom: 12px;
}

.govuk-label {
    display: block;
    font-weight: bold;
    margin-bottom: 5px;
    font-size: 16px;
}

.govuk-file-upload {
    width: 100%;
    padding: 8px;
    background-color: #f3f2f1;
    border: 1px solid #0b0c0c;
}

.govuk-input {
    width: 100%;
    height: 35px;
    padding: 5px 8px;
    border: 1px solid #0b0c0c;
    font-size: 14px;
}

/* Button styling */
.govuk-button {
    font-family: "GDS Transport", arial, sans-serif;
    font-weight: 400;
    font-size: 16px;
    line-height: 1.1875;
    padding: 8px 12px;
    border: 2px solid transparent;
    background-color: #00703c;
    color: #ffffff;
    cursor: pointer;
    text-decoration: none;
    box-shadow: 0 2px 0 #002d18;
    display: inline-block;
    margin-bottom: 0;
    border-radius: 0;
    min-height: 40px;
    min-width: 90px;
}

.govuk-button:hover {
    background-color: #005a30;
}

.govuk-button:active {
    top: 2px;
    box-shadow: none;
}

.govuk-button--primary {
    background-color: #00703c;
    color: #ffffff;
    box-shadow: 0 2px 0 #002d18;
}

.govuk-button--secondary {
    background-color: #f3f2f1;
    color: #0b0c0c;
    border: 1px solid #b1b4b6;
    box-shadow: 0 2px 0 #929497;
    font-size: 14px;
    padding: 6px 10px;
    min-height: 32px;
    min-width: 70px;
}

.govuk-button--danger {
    background-color: #d4351c;
    box-shadow: 0 2px 0 #55150b;
}

/* Small button variant */
.govuk-button--small {
    font-size: 14px;
    padding: 4px 8px;
    min-height: 30px;
    min-width: 60px;
}

/* Chat input styling */
.chat-input-container {
    display: flex;
    gap: 15px;
    margin-top: 15px;
}

.chat-input-container .govuk-input {
    flex-grow: 1;
}

/* Footer styling */
.govuk-footer {
    border-top: 10px solid #1d70b8;
    padding-top: 20px;
    padding-bottom: 20px;
    background-color: #f3f2f1;
    flex-shrink: 0;
    margin-top: 30px;
    position: relative;
    z-index: 5;
    width: 100%;
}

.govuk-footer__meta {
    padding-top: 15px;
    padding-bottom: 15px;
    display: flex;
    flex-wrap: wrap;
    align-items: center;
}

.govuk-footer__meta-item {
    margin-right: 20px;
}

.govuk-footer__meta-item--grow {
    flex-grow: 1;
}

.govuk-footer__inline-list {
    list-style: none;
    margin: 0;
    padding: 0;
    display: flex;
    flex-wrap: wrap;
}

.govuk-footer__inline-list-item {
    margin-right: 15px;
    margin-bottom: 10px;
}

.govuk-footer__link {
    color: #0b0c0c;
    text-decoration: underline;
}

.govuk-footer__licence-logo {
    display: inline-block;
    margin-right: 10px;
    vertical-align: middle;
}

.govuk-footer__licence-description {
    display: inline-block;
    vertical-align: middle;
    font-size: 14px;
}

.govuk-footer__copyright-logo {
    display: inline-block;
    min-width: 125px;
    padding-top: 20px;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='125' height='31' viewBox='0 0 125 31'%3E%3Cpath fill='%230b0c0c' d='M46.766 21.287c0 1.3-.934 2.346-2.079 2.346s-2.079-1.045-2.079-2.346c0-1.3.935-2.346 2.08-2.346s2.078 1.046 2.078 2.346zm-20.751 0c0 1.3-.934 2.346-2.079 2.346s-2.079-1.045-2.079-2.346c0-1.3.935-2.346 2.08-2.346s2.078 1.046 2.078 2.346zm29.353-7.022v10.802h-2.665v-1.415c-.708.971-1.687 1.673-3.063 1.673-2.42 0-4.387-2.004-4.387-5.152 0-3.19 1.966-5.152 4.387-5.152 1.292 0 2.313.575 3.063 1.547v-2.303h2.665zm-6.45 5.907c0 1.63.976 2.643 2.334 2.643 1.36 0 2.335-1.013 2.335-2.643 0-1.587-.976-2.643-2.335-2.643-1.358 0-2.333 1.013-2.333 2.643zm-7.383-5.907v10.802h-2.666v-1.415c-.708.971-1.686 1.673-3.063 1.673-2.42 0-4.387-2.004-4.387-5.152 0-3.19 1.967-5.152 4.387-5.152 1.292 0 2.313.575 3.063 1.547v-2.303h2.666zm-6.408 5.907c0 1.63.934 2.643 2.334 2.643 1.358 0 2.333-1.013 2.333-2.643 0-1.587-.933-2.643-2.333-2.643-1.359 0-2.334 1.013-2.334 2.643zm-12.178-1.587h7.673c-.084-1.459-1.117-2.6-3.659-2.6-2.248 0-3.379.889-3.942 2.6zm4.014 6.709c-1.441 0-2.5-.396-3.405-1.202-.038-.042-.12-.023-.12.038v.934h-2.624V10.426h2.665v4.52c.834-.848 1.893-1.288 3.315-1.288 2.75 0 4.887 2.132 4.887 5.194 0 3.147-2.137 5.322-4.718 5.322zm-7.716-10.201v2.175c-.044.059-.132.059-.176 0a2.5 2.5 0 00-1.893-.788c-1.658 0-2.921 1.201-2.921 3.318v5.37h-2.665v-10.8h2.624v1.157c.708-.872 1.687-1.415 3.147-1.415.722 0 1.336.147 1.884.325zm-20.457 1.672h3.405c.043 0 .086.042.086.084v2.09c0 .042-.043.084-.086.084h-3.405v6.873h-2.667V13.228H1.66c-.043 0-.085-.042-.085-.084v-2.09c0-.042.042-.084.085-.084h2.33v-3.19c0-2.643 1.603-4.054 3.814-4.054.725 0 1.536.126 2.302.38.043.021.064.063.064.104v2.07c0 .062-.064.103-.128.082-.339-.125-.688-.187-1.07-.187-.723 0-1.315.395-1.315 1.605v3.19z'/%3E%3Cpath fill='%230b0c0c' fill-rule='nonzero' d='M101.374 13.159c0-.043-.042-.084-.084-.084h-2.582v-2.564c0-1.437-.509-1.67-1.185-1.67-.382 0-.722.062-1.054.187a.086.086 0 01-.127-.083v-2.07c0-.042.02-.084.063-.105.765-.253 1.575-.38 2.302-.38 2.159 0 3.731 1.394 3.731 4.055v2.628h3.344c.042 0 .085.042.085.084v2.09c0 .042-.043.084-.085.084h-3.344v6.873h-2.666v-6.873h-.723l-2.753 6.873h-2.202l2.882-7.022a2.986 2.986 0 00-2.583-1.459c-1.359 0-2.334 1.013-2.334 2.643 0 1.63.975 2.643 2.334 2.643.808 0 1.447-.356 1.885-.891.03-.035.085-.035.127 0 .49.474.49.878.49.878h2.537s-.383-.682-.553-1.094c-.03-.7.021-.145.093-.186a4.852 4.852 0 001.927-3.989c0-3.19-1.967-5.152-4.387-5.152-1.292 0-2.313.575-3.063 1.547v-2.303h-2.708v10.801h2.708v-1.415c.708.971 1.686 1.673 3.063 1.673 2.42 0 4.387-2.004 4.387-5.152 0-1.194-.32-2.2-.85-2.937a.89.089 0 01.042-.134l1.778-.512v-.944zm-10.86 8.115c0 1.3-.933 2.346-2.079 2.346-1.145 0-2.078-1.045-2.078-2.346 0-1.3.933-2.346 2.078-2.346 1.146 0 2.08 1.046 2.08 2.346zm29.27 2.303c-1.757 0-3.168-1.33-3.168-3.29v-9.683h-2.708v9.683c0 3.276 2.414 5.93 5.876 5.93 3.456 0 5.828-2.654 5.828-5.93v-9.683h-2.708v9.683c0 1.96-1.4 3.29-3.12 3.29zm-15.33-13.056v2.175c-.043.059-.132.059-.176 0a2.5 2.5 0 00-1.892-.788c-1.659 0-2.922 1.201-2.922 3.318v5.37h-2.666v-10.8h2.624v1.157c.708-.872 1.687-1.415 3.147-1.415.722 0 1.336.147 1.885.325zM59.573 4.74a1.605 1.605 0 00-1.603-1.605 1.6 1.6 0 00-1.598 1.605c0 .883.718 1.604 1.598 1.604.889 0 1.603-.72 1.603-1.604zM21.196 30.993a1.605 1.605 0 001.599 1.605c.884 0 1.602-.717 1.602-1.605 0-.883-.718-1.604-1.602-1.604-.883 0-1.599.721-1.599 1.604zM3.255 30.993a1.605 1.605 0 001.598 1.605c.884 0 1.602-.717 1.602-1.605 0-.883-.718-1.604-1.602-1.604-.883 0-1.598.721-1.598 1.604zm24.9 0c0 .888.72 1.605 1.599 1.605a1.6 1.6 0 001.599-1.605c0-.883-.714-1.604-1.599-1.604a1.597 1.597 0 00-1.598 1.604zm86.936 0c0 .888.72 1.605 1.603 1.605a1.604 1.604 0 001.598-1.605c0-.883-.715-1.604-1.598-1.604a1.601 1.601 0 00-1.603 1.604z'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: 50% 0;
    text-indent: -5000px;
}

.govuk-visually-hidden {
    position: absolute;
    overflow: hidden;
    clip: rect(0 0 0 0);
    height: 1px;
    width: 1px;
    margin: -1px;
    padding: 0;
    border: 0;
}

/* Ensure header and footer are always visible through Cloudflare */
header.govuk-header,
footer.govuk-footer {
    display: block !important;
    visibility: visible !important;
    opacity: 1 !important;
}

/* Chat message styling */
.chat-message {
    padding: 10px 12px;
    margin-bottom: 12px;
    border-radius: 3px;
    line-height: 1.4;
    font-size: 15px;
}

.chat-message.user {
    background-color: #ebf3f9;
    border-left: 3px solid #1d70b8;
    margin-left: 15%;
}

.chat-message.assistant {
    background-color: #f3f2f1;
    border-left: 3px solid #00703c;
    margin-right: 15%;
}

.chat-message.error {
    background-color: #fce7e6;
    border-left: 3px solid #d4351c;
    margin-right: 15%;
}

/* Responsive fixes */
@media (max-width: 40.0625em) {
    .govuk-grid-row {
        margin-right: -15px;
        margin-left: -15px;
    }

    .chat-input-container {
        flex-direction: column;
        gap: 10px;
    }

    .rag-doc-list li {
        flex-direction: column;
        align-items: flex-start;
    }

    .doc-actions {
        margin-top: 8px;
        width: 100%;
        justify-content: flex-end;
    }

    .service-header {
        min-height: 80px;
        height: auto;
        padding: 12px 0;
    }

    .service-header .govuk-header__service-name {
        font-size: 1.3rem;
        margin-left: 8px;
    }

    .govuk-card {
        padding: 15px;
        margin-bottom: 15px;
    }

    #chat-box {
        height: 250px;
        max-height: 250px;
    }

    .rag-doc-list {
        max-height: 200px;
    }

    .govuk-main-wrapper {
        padding-top: 20px;
        padding-bottom: 30px;
    }

    .govuk-footer {
        margin-top: 20px;
        padding-top: 15px;
        padding-bottom: 15px;
    }
}